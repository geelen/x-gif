<!doctype html>
<html>
  <head>
    <title>Toggle Button</title>
    <script>
      if ('registerElement' in document
        && 'createShadowRoot' in HTMLElement.prototype
        && 'import' in document.createElement('link')
        && 'content' in document.createElement('template')) {
        // We're using a browser with native WC support!
      } else {
        document.write('<script src="https:\/\/cdnjs.cloudflare.com/ajax/libs/polymer/0.3.4/platform.js"><\/script>')
      }
    </script>
    <link rel="import" href="../dist/x-gif.html">
  </head>
  <body>
    <h1>Click a gif to stop or start it</h1>
    <x-gif index="0.5" src="http://i.imgur.com/BE1vB7p.gif"></x-gif>
    <script>
      [].forEach.call(document.querySelectorAll('x-gif'), function (el) {
        el.addEventListener('click', function () {
          el.hasAttribute('stopped') ? el.removeAttribute('stopped') : el.setAttribute('stopped', '')
        })
      })
      setTimeout(function () {
        setInterval(function () { document.querySelector('x-gif').dispatchEvent(new CustomEvent('x-gif-index-change', { detail: { index: 0.1 } })) },100)
      }, 1000)
    </script>
  </body>
</html>
